# Вводная лекция по языку Dart и мобильной разработке

## 1. Что такое Dart и зачем он нужен

Dart — современный, объектно-ориентированный язык программирования, разработанный Google. Он стал особенно популярен благодаря фреймворку **Flutter**, который позволяет создавать кроссплатформенные мобильные, веб- и десктоп-приложения из единой кодовой базы.

### Основные особенности Dart
- Сильная статическая типизация с выводом типов (type inference)
- Поддержка **null safety** (защита от ошибок, связанных с null)
- Компиляция в машинный код (JIT и AOT)
- Компиляция в JavaScript для веба
- Богатая стандартная библиотека
- Хорошая интеграция с Flutter

### Где используется Dart
- Мобильные приложения (через Flutter)
- Веб-приложения
- Десктопные приложения
- Серверные сервисы (реже, но возможно)

---

## 2. Базовый синтаксис Dart

### 2.1 Переменные и типы данных

```dart
void main() {
  // Явное указание типов
  int age = 25;
  double height = 1.75;
  String name = 'Иван';
  bool isActive = true;

  // Автоматический вывод типа
  var city = 'Москва'; // String
  var year = 2025;     // int

  // Константы
  final country = 'Россия'; // значение задаётся один раз
  const pi = 3.14159;       // константа времени компиляции

  print('Имя: $name, возраст: $age, город: $city');
}
```

### 2.2 Основные типы

- `int` — целые числа
- `double` — числа с плавающей точкой
- `num` — либо int, либо double
- `String` — строки
- `bool` — логический тип
- `List<T>` — список (массив)
- `Map<K, V>` — словарь (ключ-значение)
- `Set<T>` — множество (уникальные элементы)

### 2.3 Операторы

```dart
void main() {
  int a = 10;
  int b = 3;

  print(a + b);
  print(a - b);
  print(a * b);
  print(a / b);
  print(a ~/ b); // целочисленное деление
  print(a % b);  // остаток

  print(a > b);
  print(a == b);

  bool x = true;
  bool y = false;
  print(x && y);
  print(x || y);
  print(!x);
}
```

---

## 3. Условия и циклы

### 3.1 Условные операторы

```dart
void main() {
  int age = 20;

  if (age >= 18) {
    print('Взрослый');
  } else {
    print('Несовершеннолетний');
  }

  // тернарный оператор
  String status = age >= 18 ? 'adult' : 'child';
  print(status);

  // switch
  int day = 3;
  switch (day) {
    case 1:
      print('Пн');
      break;
    case 2:
      print('Вт');
      break;
    case 3:
      print('Ср');
      break;
    default:
      print('Другой день');
  }
}
```

### 3.2 Циклы

```dart
void main() {
  // for
  for (int i = 0; i < 5; i++) {
    print('i = $i');
  }

  // while
  int count = 0;
  while (count < 3) {
    print('count = $count');
    count++;
  }

  // do-while
  int n = 0;
  do {
    print('n = $n');
    n++;
  } while (n < 2);

  // for-in
  List<String> fruits = ['Яблоко', 'Банан', 'Апельсин'];
  for (var fruit in fruits) {
    print(fruit);
  }
}
```

---

## 4. Функции

```dart
// Обычная функция
int add(int a, int b) {
  return a + b;
}

// Стрелочная функция
int multiply(int a, int b) => a * b;

// Именованные параметры
void greet({required String name, int age = 18}) {
  print('Привет, $name! Тебе $age лет');
}

void main() {
  print(add(2, 3));
  print(multiply(3, 4));

  greet(name: 'Иван', age: 25);
  greet(name: 'Мария');
}
```

---

## 5. Основы ООП в Dart

### 5.1 Классы и объекты

```dart
class Person {
  String name;
  int age;

  Person(this.name, this.age);

  void introduce() {
    print('Меня зовут $name, мне $age лет');
  }
}

void main() {
  var person = Person('Иван', 25);
  person.introduce();
}
```

### 5.2 Наследование и полиморфизм

```dart
class Animal {
  String name;

  Animal(this.name);

  void makeSound() {
    print('$name издаёт звук');
  }
}

class Dog extends Animal {
  Dog(String name) : super(name);

  @override
  void makeSound() {
    print('$name лает: Гав!');
  }
}

void main() {
  Animal animal = Animal('Неизвестный зверь');
  Animal dog = Dog('Шарик');

  animal.makeSound();
  dog.makeSound();
}
```

### 5.3 Абстрактные классы и интерфейсы

```dart
abstract class Shape {
  double getArea();
}

class Circle implements Shape {
  double radius;

  Circle(this.radius);

  @override
  double getArea() => 3.14159 * radius * radius;
}

void main() {
  Shape circle = Circle(5);
  print(circle.getArea());
}
```

---

## 6. Null safety

```dart
void main() {
  String name = 'Иван';      // Не может быть null
  String? nickname;          // Может быть null

  print(name.length);
  print(nickname?.length);   // null-safe доступ

  String displayName = nickname ?? 'Гость';
  print(displayName);
}
```

---

## 7. Асинхронность: Future и async/await

```dart
Future<String> fetchData() async {
  await Future.delayed(Duration(seconds: 2));
  return 'Данные загружены';
}

void main() async {
  print('Начало');
  String result = await fetchData();
  print(result);
  print('Конец');
}
```

---

## 8. Введение в мобильную разработку и Flutter

### 8.1 Что такое Flutter

Flutter — UI-фреймворк от Google для создания кроссплатформенных приложений на Dart.

Ключевые особенности:
- Одна кодовая база → iOS, Android, Web, Desktop
- Высокая производительность (отрисовка напрямую в Canvas)
- Готовые виджеты под Material Design и Cupertino (iOS стиль)
- Hot Reload — мгновенное применение изменений

### 8.2 Минимальный пример Flutter-приложения

```dart
import 'package:flutter/material.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp({super.key});

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Dart & Flutter Demo',
      theme: ThemeData(
        primarySwatch: Colors.blue,
      ),
      home: const MyHomePage(),
    );
  }
}

class MyHomePage extends StatefulWidget {
  const MyHomePage({super.key});

  @override
  State<MyHomePage> createState() => _MyHomePageState();
}

class _MyHomePageState extends State<MyHomePage> {
  int _counter = 0;

  void _incrementCounter() {
    setState(() {
      _counter++;
    });
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: const Text('Пример счётчика'),
      ),
      body: Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: <Widget>[
            const Text('Вы нажали на кнопку столько раз:'),
            Text(
              '$_counter',
              style: Theme.of(context).textTheme.headlineMedium,
            ),
          ],
        ),
      ),
      floatingActionButton: FloatingActionButton(
        onPressed: _incrementCounter,
        child: const Icon(Icons.add),
      ),
    );
  }
}
```

---

# 50 заданий по Dart (от простого к сложному)

## Блок 1 — Базовый синтаксис и типы (1–10)

1. **Hello, Dart!**  
   Напишите программу, которая выводит строку `Hello, Dart!`.

2. **Переменные всех типов**  
   Объявите переменные типов `int`, `double`, `String`, `bool`, `List`, `Map` и выведите их значения.

3. **Простая математика**  
   Запросите у пользователя (через переменные в коде) два числа и выведите результат сложения, вычитания, умножения и деления.

4. **Температура**  
   Напишите программу, которая переводит температуру из Цельсия в Фаренгейт.

5. **Площадь прямоугольника**  
   Вычислите площадь прямоугольника по ширине и высоте.

6. **Чётное/нечётное**  
   Определите, является ли число чётным или нечётным.

7. **Положительное/отрицательное**  
   Определите, является ли число положительным, отрицательным или нулём.

8. **Максимум из трёх**  
   Найдите наибольшее из трёх чисел с помощью if-else.

9. **Таблица умножения**  
   Выведите таблицу умножения для числа 5 от 1 до 10.

10. **Сумма от 1 до N**  
    Вычислите сумму чисел от 1 до N с помощью цикла.

---

## Блок 2 — Коллекции и строки (11–20)

11. **Список имён**  
    Создайте список имён и выведите все имена в столбик.

12. **Фильтрация списка**  
    Данный список чисел. Выведите только чётные числа.

13. **Квадраты чисел**  
    По списку чисел создайте новый список квадратов этих чисел.

14. **Поиск в списке**  
    Проверьте, содержит ли список заданное число.

15. **Работа с Map**  
    Создайте Map с парами: имя → возраст. Выведите всех, чей возраст больше 18.

16. **Подсчёт символов**  
    Дана строка. Подсчитайте количество символов в ней.

17. **Проверка палиндрома**  
    Определите, является ли строка палиндромом (одинаково читается слева направо и справа налево).

18. **Подстрока**  
    Дана строка. Выведите первые 3 символа и последние 3 символа.

19. **Разбиение строки**  
    Разбейте строку по пробелам на слова и выведите каждое слово на новой строке.

20. **Уникальные элементы**  
    Из списка с повторяющимися числами сформируйте `Set` уникальных значений.

---

## Блок 3 — Функции (21–30)

21. **Функция суммы**  
    Напишите функцию, которая принимает два числа и возвращает их сумму.

22. **Факториал**  
    Напишите функцию для вычисления факториала числа (рекурсивно или через цикл).

23. **Степень числа**  
    Напишите функцию, возводящую число в степень без использования `pow`.

24. **Функция приветствия**  
    Напишите функцию с именованным параметром `name`, которая выводит приветствие. Если `name` не передан — выводить "Гость".

25. **Максимум в списке**  
    Напишите функцию, которая возвращает максимальное значение из списка чисел.

26. **Подсчёт гласных**  
    Напишите функцию, которая считает количество гласных букв в строке.

27. **Фильтрация списка функцией**  
    Напишите функцию, которая принимает список и функцию-предикат, и возвращает новый список только тех элементов, для которых предикат вернул true.

28. **Функция-замыкание (closure)**  
    Напишите функцию, которая возвращает функцию-"счётчик", увеличивающую внутреннее состояние на 1 при каждом вызове.

29. **Каррирование**  
    Реализуйте каррированную функцию сложения: `add(a)(b)` → `a + b`.

30. **Функции высшего порядка**  
    Напишите функцию, которая принимает список чисел и функцию-трансформер, и возвращает новый список трансформированных значений.

---

## Блок 4 — ООП (31–40)

31. **Класс Person**  
    Реализуйте класс `Person` с полями `name`, `age` и методом `introduce()`.

32. **Класс BankAccount**  
    Реализуйте класс банковского счёта с методами `deposit`, `withdraw` и полем `balance`.

33. **Наследование Animal → Dog/Cat**  
    Создайте базовый класс `Animal` и наследников `Dog`, `Cat` с разными реализациями метода `sound()`.

34. **Интерфейс Shape**  
    Создайте интерфейс `Shape` с методами `getArea()` и `getPerimeter()`, реализуйте `Circle` и `Rectangle`.

35. **Статические члены**  
    Реализуйте класс `MathUtils` со статическим методом `max(a, b)`.

36. **Enum состояний**  
    Создайте enum `Status { active, inactive, banned }` и класс `User` с полем `status`.

37. **Mixin логирования**  
    Напишите `mixin Logger` с методом `log(String message)` и подключите к нескольким классам.

38. **Абстрактный класс Vehicle**  
    Реализуйте `Vehicle` с абстрактными методами `start()`, `stop()` и наследников `Car`, `Bike`.

39. **Паттерн Singleton**  
    Реализуйте Singleton-класс конфигурации приложения.

40. **Декоратор**  
    Реализуйте паттерн "Декоратор" для базового класса `Coffee` и доп. опций (молоко, сахар).

---

## Блок 5 — Продвинутые темы (41–50)

41. **Обработка исключений**  
    Напишите функцию деления двух чисел, выбрасывающую исключение при делении на ноль, и обработайте его.

42. **Собственное исключение**  
    Реализуйте свой класс исключения `InvalidEmailException` и функцию проверки email.

43. **Generics: обобщённый Stack**  
    Реализуйте обобщённый класс `Stack<T>` с методами `push`, `pop`, `isEmpty`.

44. **Работа с Future**  
    Напишите функцию, которая через 2 секунды возвращает строку "Готово".

45. **Параллельные Future**  
    Запустите параллельно 3 `Future`, дождитесь всех через `Future.wait`.

46. **Stream чисел**  
    Создайте `Stream<int>`, который каждую секунду выдаёт следующее число (1..5).

47. **Парсинг JSON**  
    Напишите класс `User` и парсинг JSON-строки в объект `User`.

48. **Регулярные выражения**  
    Проверьте строку на формат email с помощью `RegExp`.

49. **Фильтрация и сортировка списка объектов**  
    Создайте список объектов `User` (name, age), отсортируйте по возрасту и отфильтруйте старше 18.

50. **Мини-проект "Список задач" (консоль)**  
    Реализуйте простую модель ToDo: класс `Task` (title, isDone), список задач, функции добавления/удаления/отмечания выполненных задач.

---

# Практика на закрепление (мини-проекты)

## Проект 1: Консольный калькулятор

**Задача:** реализовать простой калькулятор, который:
- Хранит 2 числа в переменных
- Умеет выполнять: `+`, `-`, `*`, `/`
- Обрабатывает деление на ноль

**Что применяешь:**
- Переменные
- Условные операторы
- Функции
- Обработка ошибок

---

## Проект 2: Управление списком студентов

**Задача:**
- Создать класс `Student(name, age, grade)`
- Создать список студентов
- Написать функции:
  - добавить студента
  - удалить студента по имени
  - найти студента по имени
  - вывести всех студентов старше заданного возраста

**Что применяешь:**
- Классы и объекты
- Списки и Map
- Функции

---

## Проект 3: Имитация банковского счета

**Задача:**
- Класс `BankAccount(owner, balance)`
- Методы: `deposit(amount)`, `withdraw(amount)` (с проверкой баланса)
- Собственное исключение при недостатке средств

**Что применяешь:**
- ООП
- Исключения
- Логика условий

---

## Проект 4: Мини-парсер JSON пользователей

**Задача:**
- Есть JSON-строка со списком пользователей
- Спарсить её в список объектов `User`
- Отфильтровать по возрасту

**Что применяешь:**
- `dart:convert`
- Классы
- Коллекции

---

## Проект 5: Первый экран Flutter-приложения (если установлен Flutter)

**Задача:**
- Создать Flutter-проект
- Реализовать экран с:
  - Текстом "Привет, Flutter!"
  - Кнопкой "Увеличить счётчик"
  - Числом-счётчиком, который увеличивается при нажатии

**Что применяешь:**
- Dart + Flutter
- `StatelessWidget` и `StatefulWidget`
- `setState`

---

## Рекомендации по работе с этим материалом

1. Сначала пройди лекционную часть сверху вниз.
2. Затем последовательно решай **50 заданий по Dart**.
3. После этого возьми 1–2 мини-проекта из практики и реализуй.
4. Параллельно используй **DartPad** (https://dartpad.dev) для быстрой проверки кода.
